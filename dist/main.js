(()=>{"use strict";const t=function(){const t=document.querySelector(".topic");function e(t){this.closest(".arrow")&&(this.classList.toggle("rotate"),this.parentElement.nextElementSibling.classList.toggle("show-block"))}document.querySelectorAll(".arrow").forEach((function(t){t.addEventListener("click",e)})),t.addEventListener("click",(function(t){if(t.target.closest(".topic__title"))t.target.nextElementSibling.classList.toggle("show-block"),t.target.children[0].classList.toggle("rotate");else{let e=t.target.children;for(let t of e){t.children[1].classList.remove("show-block");let e=t.children[0].children[0];e.classList.contains("rotate")&&e.classList.remove("rotate")}}}))};const e=function(){let t=[{url:"img/my_foto1.jpg",title:"Мое фото 1"},{url:"img/my_foto2.JPG",title:"Мое фото 2"},{url:"img/my_foto3.jpg",title:"Мое фото 3"}];function e(e){if(!t||!t.length)return;e=e||{titles:!0,dots:!0,autoplay:!0};let n=document.querySelector(".slide__image"),o=document.querySelector(".slide__btns"),l=document.querySelector(".slide__dots");function s(o){n.querySelector(".active").classList.remove("active"),n.querySelector(".n"+o).classList.add("active"),e.dots&&(l.querySelector(".activ-dot").classList.remove("activ-dot"),l.querySelector(".n"+o).classList.add("activ-dot")),e.titles&&function(e){if(!t[e].title)return;n.querySelector(".slide-img-title").innerText=r(t[e].title,50)}(o)}function r(t,e){return t.length<=e?t:t.substr(0,e)+"..."}t.forEach(((e,o)=>{let l=`<div class = "img n${o} ${0===o?"active":""}" \n          style="background-image: url(${t[o].url});" data-index="${o}"></div>`;n.innerHTML+=l})),o.querySelectorAll(".slide__btn").forEach((e=>{e.addEventListener("click",(function(){let o,l=+n.querySelector(".active").dataset.index;o=e.classList.contains("left")?0===l?t.length-1:l-1:l===t.length-1?0:l+1,s(o)}))})),e.dots&&(t.forEach(((t,e)=>{let n=`<div class = "slide-dots-item n${e} ${0===e?"activ-dot":""}" data-index='${e}'></div>`;l.innerHTML+=n})),l.querySelectorAll(".slide-dots-item").forEach((t=>{t.addEventListener("click",(function(){s(this.dataset.index)}))}))),e.titles&&function(){let e=`<div class="slide-img-title">${t[0].title}</div>`;n.innerHTML+=r(e,50)}(),e.autoplay&&setInterval((()=>{let e=+n.querySelector(".active").dataset.index;s(e===t.length-1?0:e+1)}),e.autoInterval)}let n={titles:!0,dots:!0,autoplay:!0,autoInterval:5e3};document.addEventListener("DOMContentLoaded",(function(){e(n)}))};const n=function(){const t=document.querySelectorAll(".nav__link[data-goto]");if(t.length>0){function e(t){const e=t.target;if(e.dataset.goto&&document.querySelector(e.dataset.goto)){const n=document.querySelector(e.dataset.goto).getBoundingClientRect().top+scrollY;window.scrollTo({top:n,behavior:"smooth"}),t.preventDefault()}}t.forEach((t=>{t.addEventListener("click",e)}))}};const o=function(){const t=document.querySelector(".parallax");if(t){const e=document.querySelector(".parallax__container"),n=document.querySelector(".images-parallax__sky"),o=document.querySelector(".images-parallax__mountains"),l=document.querySelector(".images-parallax__forest"),s=document.querySelector(".images-parallax__clouds"),r=50,c=30,a=10,i=20,d=.05;let u=0,m=0,f=0,g=0;function y(){u+=(f-u)*d,m+=(g-m)*d,n.style.cssText=`transform: translate(${u/r}%,${m/r}%); `,o.style.cssText=`transform: translate(${u/c}%,${m/c}%); `,l.style.cssText=`transform: translate(${u/a}%,${m/a}%); `,s.style.cssText=`transform: translate(${u/i}%,${m/i}%); `,requestAnimationFrame(y)}y(),t.addEventListener("mousemove",(function(e){const n=t.offsetWidth,o=t.offsetHeight,l=e.pageX-n/2,s=e.pageY-o/2;f=l/n*100,g=s/o*100}));let v=[];for(let S=0;S<=1;S+=.005)v.push(S);function h(t){e.style.cssText=`transform: translate(0%, -${t/9}%)`,o.parentElement.style.cssText=`transform: translate(0%, -${t/6}%)`,l.parentElement.style.cssText=`transform: translate(0%, -${t/3}%)`,s.parentElement.style.cssText=`transform: translate(0%, -${t/2}%)`}new IntersectionObserver((function(e,n){h(window.pageYOffset/t.offsetHeight*100)}),{threshold:v}).observe(document.querySelector(".content"))}};const l=function(){const t=document.querySelector(".cards-animation");let e=t.querySelectorAll(".cards-animation__card");t.addEventListener("click",(function(){t.style="\n     transform: rotate(0deg);\n       ",e.forEach((function(t){t.style="\n       box-shadow: none;\n       transform: translate(0px);\n       \n       ",t.children[0].style="\n       display: none;\n       ",t.querySelectorAll(".cards-animation__text")[0].style="\n       display: block;\n      "}))}))};const s=function(){const t=document.querySelector(".nav"),e=document.querySelector(".burger");e.addEventListener("click",(function(){this.closest(".burger")&&(t.style="\n    display: block;\n    ",t.classList.toggle("nav-active"),document.body.classList.toggle("lock"),e.children[0].classList.toggle("burger-active"))}))};console.log("hello"),t(),e(),n(),o(),l(),s()})();